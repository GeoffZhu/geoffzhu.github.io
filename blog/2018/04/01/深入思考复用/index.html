<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Geoff的博客 | Geoff&#39;s Blog</title>
  
  <meta name="description" content="Geoff的Object-C学习笔记 - Geoff的博客 | Geoff&#39;s Blog">
  
  <meta name="keyword" content="前端 js">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="/blog/css/style.css">
  
</head>

<body>
  <div class="container">
    <div class="content">
      <div><h1 id="Geoff的Object-C学习笔记"><a href="#Geoff的Object-C学习笔记" class="headerlink" title="Geoff的Object-C学习笔记"></a>Geoff的Object-C学习笔记</h1><h2 id="语法篇"><a href="#语法篇" class="headerlink" title="语法篇"></a>语法篇</h2><h3 id="基础数据类型"><a href="#基础数据类型" class="headerlink" title="基础数据类型"></a>基础数据类型</h3><p>int、float、double、char</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int i = 0;</span><br><span class="line">float i = 0.1;</span><br><span class="line">doublle i = 0.1;</span><br><span class="line">char i = &apos;A&apos;;</span><br></pre></td></tr></table></figure>
<p>OC同时支持C语言的字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&apos;C语言字符串&apos;</span><br><span class="line">NSSting: @&quot;OC字符串&quot;</span><br></pre></td></tr></table></figure>
<p>变量名是大小写敏感的</p>
<h3 id="限定词"><a href="#限定词" class="headerlink" title="限定词"></a>限定词</h3><p>用于对变量限定内存分配大小，关键词如下</p>
<p>long、long long、short、unsigned、signed</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 原本int是32位，通过限定词，扩展为64位，能存放更大的数据，long long同理</span><br><span class="line">long int i</span><br><span class="line">// 如果你只想存个状态码，不需要太大的整数，可以使用short，会得到16位的int变量</span><br><span class="line">short int i</span><br><span class="line"></span><br><span class="line">unsigned和signed代表有没有符号，也就是该变量有没有正负号</span><br></pre></td></tr></table></figure>
<h3 id="条件语句和循环语句"><a href="#条件语句和循环语句" class="headerlink" title="条件语句和循环语句"></a>条件语句和循环语句</h3><p>条件语句和循环语句中与js完全一致，不在赘述</p>
<h4 id="goto语句"><a href="#goto语句" class="headerlink" title="goto语句"></a>goto语句</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">int i;</span><br><span class="line">a:&#123;</span><br><span class="line">   i++ </span><br><span class="line">&#125;</span><br><span class="line">if (i &lt; 5) goto a;</span><br></pre></td></tr></table></figure>
<h3 id="函数的定义与调用"><a href="#函数的定义与调用" class="headerlink" title="函数的定义与调用"></a>函数的定义与调用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 返回值类型(无使用void) + 名字 + （参数类型 参数名）--&gt;</span><br><span class="line">double multiplication (double a, double b) &#123;</span><br><span class="line">    double c = a * b</span><br><span class="line">    return c</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mutiplication(2.0, 3.0)</span><br></pre></td></tr></table></figure>
<p>NSLog方法，浮点型采用%f输出，整型采用%d输出，字符串采用%s输出，例如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">int a = 0;</span><br><span class="line">float f = 0.1; 或 double f = 0.1;</span><br><span class="line">char s = &apos;字符串&apos;;</span><br><span class="line">NSString *p = @&quot;NS字符串&quot;;</span><br><span class="line"></span><br><span class="line">NSLog(@&apos;整型输出：%d&apos;, a);</span><br><span class="line">NSLog(@&apos;浮点型输出：%f&apos;, f);</span><br><span class="line">NSLog(@&apos;字符输出：%s&apos;, s);</span><br><span class="line">NSLog(@&apos;指针地址输出：%p&apos;, p);</span><br><span class="line"></span><br><span class="line">%@ 打印NSString</span><br></pre></td></tr></table></figure>
<h3 id="面向对象语法"><a href="#面向对象语法" class="headerlink" title="面向对象语法"></a>面向对象语法</h3><h4 id="定义一个类"><a href="#定义一个类" class="headerlink" title="定义一个类"></a>定义一个类</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 引入Foundation头文件，其中包括常见的NSObject, NSString等类。</span><br><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">// 其中的 : 代表继承的意思，也就是Class1继承自NSObject</span><br><span class="line">@interface Class1 : NSObject</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<h4 id="调用类的方式"><a href="#调用类的方式" class="headerlink" title="调用类的方式"></a>调用类的方式</h4><p>[类名 方法名]<br>[对象名 方法名]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 初始化People类的一个实例p1</span><br><span class="line">People *p1 = [[People alloc] init];</span><br></pre></td></tr></table></figure>
<h5 id="类的成员变量和属性"><a href="#类的成员变量和属性" class="headerlink" title="类的成员变量和属性"></a>类的成员变量和属性</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@interface Class1 : NSObject</span><br><span class="line">&#123;</span><br><span class="line">    // 成员变量，这个例子是写在了.h文件中，不过已经推荐把成员变量写在.m文件中了</span><br><span class="line">    int i = 0;</span><br><span class="line">    NSString *peopleName</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@property (nonatomic, strong) NSString *peopleName;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<p>如果声明了一个名为peopleName的属性，xcode会在类内自动创建一个名为_peopleName的成员变量。</p>
<h5 id="对象方法和类方法"><a href="#对象方法和类方法" class="headerlink" title="对象方法和类方法"></a>对象方法和类方法</h5><p>OC中定义类中的方法分为减号方法和加号方法，减号方法相当对象方法，也就是JavaScript中的<code>Vue.prototype.fun1</code>, 而加号方法被称为类方法（静态方法），类似于javascript中的<code>Vue.nextTick</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 在.h文件中，声明对象上的方法，例如</span><br><span class="line"></span><br><span class="line">-(id) initWithID:(int)newID andAge:(int)newAge andPrice:(float)newPrice;</span><br><span class="line"></span><br><span class="line">-(返回值) 函数名: (参数类型1) 参数名1 标签1: (参数类型2) 参数名2 …&#123; </span><br><span class="line">    函数内容； </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+(void) nextTick;</span><br></pre></td></tr></table></figure>
<p>在.m文件中实现类方法的时候还需要注意，类方法中不能调用成员变量。</p>
<p>再来说说带参数调用，例如调用上面的initWithID方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">People *p1 = [[People alloc] init];</span><br><span class="line">[p1 initWithID:1 andAge:10 andPrice:100.0;</span><br><span class="line">// 调用类方法</span><br><span class="line">[People nextTick]</span><br></pre></td></tr></table></figure></p>
<p>返回值中的id类型和instanceof类型，id类型可以返回任意类型的值，instanceof类型只能返回当前定义的类的实例类型，这在重写NSObject的init方法时经常使用。</p>
<h3 id="访问修饰符"><a href="#访问修饰符" class="headerlink" title="访问修饰符"></a>访问修饰符</h3><h4 id="成员变量访问修饰符"><a href="#成员变量访问修饰符" class="headerlink" title="成员变量访问修饰符"></a>成员变量访问修饰符</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@private</span><br><span class="line">私有，只能在类内（.m文件）使用，无法被继承</span><br><span class="line"></span><br><span class="line">@protected</span><br><span class="line">受保护，只能在类内使用，可以被继承</span><br><span class="line"></span><br><span class="line">@public</span><br><span class="line">公有，能在类内也能在类外使用，使用语法为 -&gt;，例如：</span><br><span class="line">p1 -&gt; varOfPublic</span><br><span class="line"></span><br><span class="line">@package</span><br><span class="line">框架权限，在框架内相当于受保护，框架外相当于私有</span><br></pre></td></tr></table></figure>
<h4 id="方法的访问修饰符"><a href="#方法的访问修饰符" class="headerlink" title="方法的访问修饰符"></a>方法的访问修饰符</h4><p>OC中方法没有访问修饰符，如果你不想让某个方法在类外被使用，可以直接在.m文件中定义这个方法，外部自然无法调用。</p>
<h3 id="继承与多态"><a href="#继承与多态" class="headerlink" title="继承与多态"></a>继承与多态</h3><p>没有多继承，如果想使用多继承的话，要使用协议。继承的语法在上文中也已经出现了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// Class1 集成自NSObject，Foundation的头文件中有NSObject</span><br><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line">@interface Class1 : NSObject</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<p>OC中的多态，OC中可以重写方法，但被重写方法的参数和返回值必须要与父类中的一致。换做术语来说就是，OC只支持方法重写，但不支持方法重载。</p>
<h3 id="self与super"><a href="#self与super" class="headerlink" title="self与super"></a>self与super</h3><p>这两个都是在类的实现文件中使用的<br>super为父类，可以调用父类的方法<br>self为当前类，可以调用当前实现类中的方法</p>
</div>
<div class="page-date">2018-04-01</div>
    </div>
    <footer class="footer">
  <div>&copy; 2018 Geoff Zhu</div>
  <div>
    
      
        <a href="/blog//about" target="">About</a>
      
    
      
        <a href="https://github.com/GeoffZhu" target="_blank">Github</a>
      
    
      
        <a href="https://www.zhihu.com/people/geoffzhu/activities" target="_blank">Zhihu</a>
      
    
      
        <a href="https://weibo.com/geoffzhu" target="_blank">Weibo</a>
      
    
  </div>
</footer>
  </div>
</body>
</html>