<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Geoff的博客 | Geoff&#39;s Blog</title>
  
  <meta name="description" content="响应式邮件设计工具推荐 - Geoff的博客 | Geoff&#39;s Blog">
  
  <meta name="keyword" content="前端 js">
  <link rel="icon" href="/blog/img/favicon.ico" type="image/x-icon"/> 
  <link rel="shortcut icon" href="/blog/img/favicon.ico" type="image/x-icon"/> 
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="/blog/css/style.css">
  
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?f9a2ae073078f788abfad65383232927";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
  
</head>

<body>
  <div class="container">
    <div class="content">
      <div><h1 id="响应式邮件设计工具推荐"><a href="#响应式邮件设计工具推荐" class="headerlink" title="响应式邮件设计工具推荐"></a>响应式邮件设计工具推荐</h1><blockquote>
<p>最近工作上需要做一些HTML邮件模版，就是在平时邮箱里收到的那种推广邮件。深入研究之后，才知道这坑有多深。</p>
</blockquote>
<h2 id="回到蛮荒时代"><a href="#回到蛮荒时代" class="headerlink" title="回到蛮荒时代"></a>回到蛮荒时代</h2><p>最初我的理解是，既然是HTML，我大前端的看家本领！半小时搞定没啥问题。试了才知道，HTML邮件没有任何标准，而且不管是HTML和CSS全部都是被阉割了的（啥？你还想用JS？），并且不同邮件客户端之间差异也很大。对于div和float的处理也带有很多的不确定性，所以浮动布局，flexbox啥的一样也用不了，只能用90年代流行的表格布局，90年代啊！开发体验是奇差无比，更重要的是我并不想去学过时的table布局。</p>
<p>我这次的要做的是出模版，服务端套，还需要考虑到收件人可能用的是手机客户端查看的邮件，所以需要响应式。对于我来说，可以拖拽的邮件工具肯定是不合适的，它并不能很好的实现设计和需求，况且作为一名开发者应以它为耻。</p>
<h2 id="找工具"><a href="#找工具" class="headerlink" title="找工具"></a>找工具</h2><h3 id="1-foundation-emails"><a href="#1-foundation-emails" class="headerlink" title="1. foundation-emails"></a><a href="http://foundation.zurb.com/emails.html" target="_blank" rel="noopener">1. foundation-emails</a></h3><p>首先GitHub找到了<a href="http://foundation.zurb.com/emails.html" target="_blank" rel="noopener">foundation-emails</a>，扫了一下文档和DEMO，感觉非常好用，还能用sass，狂笑！！等模版做完了，按照文档</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>
<p>文档上说这是把所有样式插到行内（没看到会压缩啊），当我执行之后，我看到的是这样的画面。</p>
<p><img src="http://o80ronwlu.bkt.clouddn.com/E17CB90D-9059-4250-A541-CA930E06F68B.png" alt=""></p>
<p>还是要在build的之前往里面插入服务端模版引擎的循环语句？只能手动去格式化html代码再加循环？我首先试了试第一个在模版里面想替换的地方加几个模版引擎常用的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; &#125;&#125;</span><br></pre></td></tr></table></figure>
<p>结果build之后，直接就编译没了，再去GitHub看看,找到了这条还没有修复的<a href="https://github.com/zurb/foundation-emails/issues/666" target="_blank" rel="noopener">issue</a>，看来大家都还没什么优雅的办法。</p>
<p>对于只需要替换个用户名或者只有少部分内容需要动态的邮件，foundation-emails是非常不错的选择，在其中使用响应式非常非常简单，格栅布局，就像这样</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">columns</span> <span class="attr">large</span>=<span class="string">"6"</span> <span class="attr">small</span>=<span class="string">"12"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-mjml"><a href="#2-mjml" class="headerlink" title="2. mjml"></a><a href="https://mjml.io/" target="_blank" rel="noopener">2. mjml</a></h3><p>在社区里找到了这款工具，用它写的模版大概是这样的， 也很不错。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mjml</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mj-body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mj-container</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mj-section</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mj-column</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">mj-image</span> <span class="attr">src</span>=<span class="string">"/assets/img/easy-and-quick.png"</span>  <span class="attr">width</span>=<span class="string">"112"</span>&gt;</span><span class="tag">&lt;/<span class="name">mj-image</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">mj-text</span> <span class="attr">font-size</span>=<span class="string">"20px"</span> <span class="attr">color</span>=<span class="string">"#595959"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span>Easy and Quick<span class="tag">&lt;/<span class="name">mj-text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mj-column</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mj-column</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">mj-image</span> <span class="attr">src</span>=<span class="string">"/assets/img/responsive.png"</span> <span class="attr">width</span>=<span class="string">"135"</span>&gt;</span><span class="tag">&lt;/<span class="name">mj-image</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">mj-text</span> <span class="attr">font-size</span>=<span class="string">"20px"</span> <span class="attr">color</span>=<span class="string">"#595959"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span>Responsive<span class="tag">&lt;/<span class="name">mj-text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mj-column</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">mj-section</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mj-section</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mj-column</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">mj-button</span> <span class="attr">background-color</span>=<span class="string">"#F45E43"</span> <span class="attr">font-size</span>=<span class="string">"15px"</span>&gt;</span>Discover<span class="tag">&lt;/<span class="name">mj-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mj-column</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">mj-section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mj-container</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mj-body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mjml</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>而且它还有客户端，客户端中可以导出html，导出的代码还算清新。动态替换的内容，我通过官方demo中发现用<code>[[ ]]</code>包裹就没什么事了。</p>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>这篇就是推荐俩工具。如果需要，请留言留言，我可以出个小教程啥的，完！</p>
</div>
<div class="page-date">2017-01-09</div>
    </div>
    <footer class="footer">
  <div>&copy; 2018 Geoff Zhu</div>
  <div>
    
      
        <a href="/blog//about" target="">About</a>
      
    
      
        <a href="https://github.com/GeoffZhu" target="_blank">Github</a>
      
    
      
        <a href="https://www.zhihu.com/people/geoffzhu/activities" target="_blank">Zhihu</a>
      
    
      
        <a href="https://weibo.com/geoffzhu" target="_blank">Weibo</a>
      
    
  </div>
</footer>
  </div>
</body>
</html>